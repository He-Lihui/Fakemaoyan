{"version":3,"sources":["webpack:///./src/views/City/City.vue?fb6a","webpack:///./node_modules/vant/es/index-bar/index.js","webpack:///./node_modules/vant/es/index-anchor/index.js","webpack:///./node_modules/vant/es/cell/shared.js","webpack:///./node_modules/vant/es/cell/index.js","webpack:///src/views/City/City.vue","webpack:///./src/views/City/City.vue?5f84","webpack:///./src/views/City/City.vue","webpack:///./src/views/City/City.vue?4475"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","goba","_v","_s","position","staticStyle","indexList","_l","item","index","key","v","k","name","chooseCity","cityId","staticRenderFns","genAlphabet","charCodeOfA","charCodeAt","i","push","String","fromCharCode","_createNamespace","create","createComponent","bem","mixins","bind","scroller","$el","onScroll","props","zIndex","Number","highlightColor","sticky","type","Boolean","default","stickyOffsetTop","Array","data","activeAnchorIndex","computed","sidebarStyle","highlightStyle","color","watch","$nextTick","methods","_this","scrollTop","scrollerRect","getScrollerRect","rects","children","map","height","top","getElementTop","active","getActiveAnchorIndex","forEach","rect","getBoundingClientRect","left","width","Math","max","activeItemTop","ele","window","document","body","eleRect","length","prevHeight","reachTop","onClick","event","scrollToElement","target","onTouchMove","touchMove","direction","_event$touches$","touches","clientX","clientY","elementFromPoint","dataset","touchActiveIndex","element","match","filter","scrollIntoView","$emit","onTouchEnd","render","_this2","h","arguments","Indexes","touchStart","slots","indexKey","parent","anchorStyle","transform","mounted","offsetHeight","_ref","cellProps","icon","size","center","isLink","required","clickable","iconPrefix","titleStyle","titleClass","valueClass","labelClass","title","value","label","arrowDirection","border","Cell","ctx","showTitle","Label","showLabel","Title","Value","showValue","alone","LeftIcon","RightIcon","rightIconSlot","classes","borderless","extra","component"],"mappings":"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","file":"js/chunk-29263a52.dc66252d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"left\"},[_c('van-icon',{staticClass:\"icon\",attrs:{\"name\":\"cross\"},on:{\"click\":function($event){return _vm.goba()}}})],1),_c('div',{staticClass:\"title\"},[_vm._v(\"当前城市 - \"+_vm._s(_vm.position))])]),_c('div',{staticClass:\"search-city-input\"},[_c('div',{staticClass:\"input-wrap\"},[_c('van-icon',{staticClass:\"search-icon\",attrs:{\"name\":\"search\"}}),_c('input',{staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"输入城市名或拼音\"}})],1)]),_c('div',{staticClass:\"list-parents\"},[_c('van-index-bar',{staticClass:\"list\",staticStyle:{\"margin-top\":\"93px\"},attrs:{\"index-list\":_vm.indexList}},[_c('div',{staticClass:\"recommend-city\"},[_c('div',{staticClass:\"gprs-city\"},[_c('div',{staticClass:\"city-index-title\"},[_vm._v(\" GPS定位你所在城市 \")]),_c('ul',{staticClass:\"city-index-detail cleanfix\"},[_c('li',{staticClass:\"city-item-detail city-item-detail-gprs\"},[_c('div',{staticClass:\"city-item-text\"},[_vm._v(\" \"+_vm._s(_vm.position)+\" \")])])])]),_c('div',{staticClass:\"hot-city\"},[_c('div',{staticClass:\"city-index-title\"},[_vm._v(\"热门城市\")]),_c('ul',{staticClass:\"city-index-detail cleanfix\"},[_c('li',{staticClass:\"city-item-detail\"},[_c('div',{staticClass:\"city-item-text\"},[_vm._v(\"北京\")])]),_c('li',{staticClass:\"city-item-detail\"},[_c('div',{staticClass:\"city-item-text\"},[_vm._v(\"上海\")])]),_c('li',{staticClass:\"city-item-detail\"},[_c('div',{staticClass:\"city-item-text\"},[_vm._v(\"广州\")])]),_c('li',{staticClass:\"city-item-detail\"},[_c('div',{staticClass:\"city-item-text\"},[_vm._v(\"深圳\")])])])])]),_vm._l((_vm.dataList),function(item,index){return [_c('van-index-anchor',{key:index,staticStyle:{\"background\":\"#F4F4F4\"},attrs:{\"index\":item.index}}),_vm._l((item.data),function(v,k){return _c('van-cell',{key:k,attrs:{\"title\":v.name},on:{\"click\":function($event){return _vm.chooseCity(v.name, v.cityId)}}})})]})],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { getScroller, getScrollTop, getElementTop as _getElementTop, getRootScrollTop, setRootScrollTop } from '../utils/dom/scroll'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nfunction genAlphabet() {\n  var indexList = [];\n  var charCodeOfA = 'A'.charCodeAt(0);\n\n  for (var i = 0; i < 26; i++) {\n    indexList.push(String.fromCharCode(charCodeOfA + i));\n  }\n\n  return indexList;\n}\n\nvar _createNamespace = createNamespace('index-bar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanIndexBar'), BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll);\n  })],\n  props: {\n    zIndex: [Number, String],\n    highlightColor: String,\n    sticky: {\n      type: Boolean,\n      default: true\n    },\n    stickyOffsetTop: {\n      type: Number,\n      default: 0\n    },\n    indexList: {\n      type: Array,\n      default: genAlphabet\n    }\n  },\n  data: function data() {\n    return {\n      activeAnchorIndex: null\n    };\n  },\n  computed: {\n    sidebarStyle: function sidebarStyle() {\n      if (isDef(this.zIndex)) {\n        return {\n          zIndex: this.zIndex + 1\n        };\n      }\n    },\n    highlightStyle: function highlightStyle() {\n      var highlightColor = this.highlightColor;\n\n      if (highlightColor) {\n        return {\n          color: highlightColor\n        };\n      }\n    }\n  },\n  watch: {\n    indexList: function indexList() {\n      this.$nextTick(this.onScroll);\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      var scrollTop = getScrollTop(this.scroller);\n      var scrollerRect = this.getScrollerRect();\n      var rects = this.children.map(function (item) {\n        return {\n          height: item.height,\n          top: _this.getElementTop(item.$el, scrollerRect)\n        };\n      });\n      var active = this.getActiveAnchorIndex(scrollTop, rects);\n      this.activeAnchorIndex = this.indexList[active];\n\n      if (this.sticky) {\n        this.children.forEach(function (item, index) {\n          if (index === active || index === active - 1) {\n            var rect = item.$el.getBoundingClientRect();\n            item.left = rect.left;\n            item.width = rect.width;\n          } else {\n            item.left = null;\n            item.width = null;\n          }\n\n          if (index === active) {\n            item.active = true;\n            item.top = Math.max(_this.stickyOffsetTop, rects[index].top - scrollTop) + scrollerRect.top;\n          } else if (index === active - 1) {\n            var activeItemTop = rects[active].top - scrollTop;\n            item.active = activeItemTop > 0;\n            item.top = activeItemTop + scrollerRect.top - item.height;\n          } else {\n            item.active = false;\n          }\n        });\n      }\n    },\n    getScrollerRect: function getScrollerRect() {\n      if (this.scroller.getBoundingClientRect) {\n        return this.scroller.getBoundingClientRect();\n      }\n\n      return {\n        top: 0,\n        left: 0\n      };\n    },\n    getElementTop: function getElementTop(ele, scrollerRect) {\n      var scroller = this.scroller;\n\n      if (scroller === window || scroller === document.body) {\n        return _getElementTop(ele);\n      }\n\n      var eleRect = ele.getBoundingClientRect();\n      return eleRect.top - scrollerRect.top + getScrollTop(scroller);\n    },\n    getActiveAnchorIndex: function getActiveAnchorIndex(scrollTop, rects) {\n      for (var i = this.children.length - 1; i >= 0; i--) {\n        var prevHeight = i > 0 ? rects[i - 1].height : 0;\n        var reachTop = this.sticky ? prevHeight + this.stickyOffsetTop : 0;\n\n        if (scrollTop + reachTop >= rects[i].top) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n    onClick: function onClick(event) {\n      this.scrollToElement(event.target);\n    },\n    onTouchMove: function onTouchMove(event) {\n      this.touchMove(event);\n\n      if (this.direction === 'vertical') {\n        preventDefault(event);\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var target = document.elementFromPoint(clientX, clientY);\n\n        if (target) {\n          var index = target.dataset.index;\n          /* istanbul ignore else */\n\n          if (this.touchActiveIndex !== index) {\n            this.touchActiveIndex = index;\n            this.scrollToElement(target);\n          }\n        }\n      }\n    },\n    scrollToElement: function scrollToElement(element) {\n      var index = element.dataset.index;\n\n      if (!index) {\n        return;\n      }\n\n      var match = this.children.filter(function (item) {\n        return String(item.index) === index;\n      });\n\n      if (match[0]) {\n        match[0].scrollIntoView();\n\n        if (this.sticky && this.stickyOffsetTop) {\n          setRootScrollTop(getRootScrollTop() - this.stickyOffsetTop);\n        }\n\n        this.$emit('select', match[0].index);\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      this.active = null;\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var Indexes = this.indexList.map(function (index) {\n      var active = index === _this2.activeAnchorIndex;\n      return h(\"span\", {\n        \"class\": bem('index', {\n          active: active\n        }),\n        \"style\": active ? _this2.highlightStyle : null,\n        \"attrs\": {\n          \"data-index\": index\n        }\n      }, [index]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('sidebar'),\n      \"style\": this.sidebarStyle,\n      \"on\": {\n        \"click\": this.onClick,\n        \"touchstart\": this.touchStart,\n        \"touchmove\": this.onTouchMove,\n        \"touchend\": this.onTouchEnd,\n        \"touchcancel\": this.onTouchEnd\n      }\n    }, [Indexes]), this.slots('default')]);\n  }\n});","import { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\nimport { BORDER_BOTTOM } from '../utils/constant';\n\nvar _createNamespace = createNamespace('index-anchor'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanIndexBar', {\n    indexKey: 'childrenIndex'\n  })],\n  props: {\n    index: [Number, String]\n  },\n  data: function data() {\n    return {\n      top: 0,\n      left: null,\n      width: null,\n      active: false\n    };\n  },\n  computed: {\n    sticky: function sticky() {\n      return this.active && this.parent.sticky;\n    },\n    anchorStyle: function anchorStyle() {\n      if (this.sticky) {\n        return {\n          zIndex: \"\" + this.parent.zIndex,\n          left: this.left ? this.left + \"px\" : null,\n          width: this.width ? this.width + \"px\" : null,\n          transform: \"translate3d(0, \" + this.top + \"px, 0)\",\n          color: this.parent.highlightColor\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.height = this.$el.offsetHeight;\n  },\n  methods: {\n    scrollIntoView: function scrollIntoView() {\n      this.$el.scrollIntoView();\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    var sticky = this.sticky;\n    return h(\"div\", {\n      \"style\": {\n        height: sticky ? this.height + \"px\" : null\n      }\n    }, [h(\"div\", {\n      \"style\": this.anchorStyle,\n      \"class\": [bem({\n        sticky: sticky\n      }), (_ref = {}, _ref[BORDER_BOTTOM] = sticky, _ref)]\n    }, [this.slots('default') || this.index])]);\n  }\n});","export var cellProps = {\n  icon: String,\n  size: String,\n  center: Boolean,\n  isLink: Boolean,\n  required: Boolean,\n  clickable: Boolean,\n  iconPrefix: String,\n  titleStyle: null,\n  titleClass: null,\n  valueClass: null,\n  labelClass: null,\n  title: [Number, String],\n  value: [Number, String],\n  label: [Number, String],\n  arrowDirection: String,\n  border: {\n    type: Boolean,\n    default: true\n  }\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport { routeProps, functionalRoute } from '../utils/router';\nimport { cellProps } from './shared'; // Components\n\nimport Icon from '../icon'; // Types\n\nvar _createNamespace = createNamespace('cell'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Cell(h, props, slots, ctx) {\n  var icon = props.icon,\n      size = props.size,\n      title = props.title,\n      label = props.label,\n      value = props.value,\n      isLink = props.isLink;\n  var showTitle = slots.title || isDef(title);\n\n  function Label() {\n    var showLabel = slots.label || isDef(label);\n\n    if (showLabel) {\n      return h(\"div\", {\n        \"class\": [bem('label'), props.labelClass]\n      }, [slots.label ? slots.label() : label]);\n    }\n  }\n\n  function Title() {\n    if (showTitle) {\n      return h(\"div\", {\n        \"class\": [bem('title'), props.titleClass],\n        \"style\": props.titleStyle\n      }, [slots.title ? slots.title() : h(\"span\", [title]), Label()]);\n    }\n  }\n\n  function Value() {\n    var showValue = slots.default || isDef(value);\n\n    if (showValue) {\n      return h(\"div\", {\n        \"class\": [bem('value', {\n          alone: !showTitle\n        }), props.valueClass]\n      }, [slots.default ? slots.default() : h(\"span\", [value])]);\n    }\n  }\n\n  function LeftIcon() {\n    if (slots.icon) {\n      return slots.icon();\n    }\n\n    if (icon) {\n      return h(Icon, {\n        \"class\": bem('left-icon'),\n        \"attrs\": {\n          \"name\": icon,\n          \"classPrefix\": props.iconPrefix\n        }\n      });\n    }\n  }\n\n  function RightIcon() {\n    var rightIconSlot = slots['right-icon'];\n\n    if (rightIconSlot) {\n      return rightIconSlot();\n    }\n\n    if (isLink) {\n      var arrowDirection = props.arrowDirection;\n      return h(Icon, {\n        \"class\": bem('right-icon'),\n        \"attrs\": {\n          \"name\": arrowDirection ? \"arrow-\" + arrowDirection : 'arrow'\n        }\n      });\n    }\n  }\n\n  function onClick(event) {\n    emit(ctx, 'click', event);\n    functionalRoute(ctx);\n  }\n\n  var clickable = isLink || props.clickable;\n  var classes = {\n    clickable: clickable,\n    center: props.center,\n    required: props.required,\n    borderless: !props.border\n  };\n\n  if (size) {\n    classes[size] = size;\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem(classes),\n    \"attrs\": {\n      \"role\": clickable ? 'button' : null,\n      \"tabindex\": clickable ? 0 : null\n    },\n    \"on\": {\n      \"click\": onClick\n    }\n  }, inherit(ctx)]), [LeftIcon(), Title(), Value(), RightIcon(), slots.extra == null ? void 0 : slots.extra()]);\n}\n\nCell.props = _extends({}, cellProps, routeProps);\nexport default createComponent(Cell);","<template>\r\n    <div class=\"box\">\r\n        <div class=\"header\">\r\n            <div class=\"left\">\r\n                <van-icon\r\n                    class=\"icon\"\r\n                    name=\"cross\"\r\n                    @click=\"goba()\"\r\n                />\r\n            </div>\r\n            <div class=\"title\">当前城市 - {{position}}</div>\r\n        </div>\r\n        <div class=\"search-city-input\">\r\n            <div class=\"input-wrap\">\r\n                <van-icon name=\"search\" class=\"search-icon\" />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"输入城市名或拼音\"\r\n                    class=\"search-input\"\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"list-parents\">\r\n            <van-index-bar\r\n                :index-list=\"indexList\"\r\n                style=\"margin-top:93px\"\r\n                class=\"list\"\r\n            >\r\n                <div class=\"recommend-city\">\r\n                    <div class=\"gprs-city\">\r\n                        <div class=\"city-index-title\">\r\n                            GPS定位你所在城市\r\n                        </div>\r\n                        <ul class=\"city-index-detail cleanfix\">\r\n                            <li class=\"city-item-detail city-item-detail-gprs\">\r\n                                <div class=\"city-item-text\">\r\n                                    {{ position }}\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"hot-city\">\r\n                        <div class=\"city-index-title\">热门城市</div>\r\n                        <ul class=\"city-index-detail cleanfix\">\r\n                            <li class=\"city-item-detail\">\r\n                                <div class=\"city-item-text\">北京</div>\r\n                            </li>\r\n                            <li class=\"city-item-detail\">\r\n                                <div class=\"city-item-text\">上海</div>\r\n                            </li>\r\n                            <li class=\"city-item-detail\">\r\n                                <div class=\"city-item-text\">广州</div>\r\n                            </li>\r\n                            <li class=\"city-item-detail\">\r\n                                <div class=\"city-item-text\">深圳</div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <template v-for=\"(item, index) in dataList\">\r\n                    <van-index-anchor\r\n                        style=\"background:#F4F4F4\"\r\n                        :index=\"item.index\"\r\n                        :key=\"index\"\r\n                    />\r\n                    <van-cell\r\n                        v-for=\"(v, k) in item.data\"\r\n                        :title=\"v.name\"\r\n                        :key=\"k\"\r\n                        @click=\"chooseCity(v.name, v.cityId)\"\r\n                    />\r\n                </template>\r\n            </van-index-bar>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {cityListData} from '@/api/api' \r\nimport Vue from 'vue';\r\nimport {IndexBar, IndexAnchor, Cell,Icon} from 'vant';\r\nimport \"vant/lib/index.css\"\r\n// import {mapMutations} from 'vuex'\r\nVue.use(IndexBar);\r\nVue.use(IndexAnchor);\r\nVue.use(Cell);\r\nVue.use(Icon)\r\nexport default {\r\n    data() {\r\n        return {\r\n            dataList:[],\r\n            indexList:[],\r\n            address:'',\r\n            position:'地球',\r\n        }\r\n    },\r\n    \r\n    created(){\r\n        this.eventBus.$emit('footernav',false)\r\n    },\r\n    beforeDestroy(){\r\n        this.eventBus.$emit('footernav',true)\r\n    },\r\n    async mounted() {\r\n        let ret = await cityListData()        \r\n        this.dataList = ret[0]\r\n        this.indexList = ret[1]\r\n    },\r\n     methods: {\r\n        // 获取选择的城市名称\r\n        chooseCity: function(city, cityId){\r\n            console.log(city,cityId)\r\n            \r\n            localStorage.setItem('city',city)\r\n            localStorage.setItem('cityId',cityId)\r\n            this.$router.go(-1)\r\n            // 将数据写入vuex中\r\n            this.$store.commit('setCity',city)\r\n        },\r\n        goba:function(){\r\n            this.$router.go(-1)\r\n        }\r\n        \r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.list-parents {\r\n    overflow-x: hidden;\r\n}\r\n.box {\r\n    .header {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 44px;\r\n        overflow: hidden;\r\n        margin: 0;\r\n        padding: 0;\r\n        display: flex;\r\n        z-index: 999;\r\n        background-color: #fff;\r\n\r\n        .left {\r\n            width: 14%;\r\n            display: -webkit-box;\r\n            display: -ms-flexbox;\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            align-items: center;\r\n\r\n            .city-list .header i {\r\n                display: block;\r\n                font-size: 23px;\r\n            }\r\n\r\n            .icon {\r\n                font-size: 22px;\r\n                margin-left: 20px;\r\n                color: #929293;\r\n            }\r\n        }\r\n        .title {\r\n            width: 72%;\r\n            text-align: center;\r\n            font-size: 17px;\r\n            display: -webkit-box;\r\n            display: -ms-flexbox;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            color: #191a1b;\r\n        }\r\n        ::after {\r\n            content: ' ';\r\n            position: absolute;\r\n            left: 0;\r\n            bottom: 0;\r\n            right: 0;\r\n            height: 1px;\r\n            border-bottom: 1px solid #ededed;\r\n            color: #ededed;\r\n            transform-origin: 0 100%;\r\n            transform: scaleY(0.5);\r\n        }\r\n    }\r\n    .search-city-input {\r\n        z-index: 2000;\r\n        width: 100vw;\r\n        padding: 9.5px 15px;\r\n        background-color: #f4f4f4;\r\n        position: fixed;\r\n        top: 44px;\r\n        height: 30px;\r\n\r\n        ::placeholder {\r\n            font-size: 11px;\r\n            color: #bdc0c5;\r\n        }\r\n\r\n        .input-wrap {\r\n            background-color: #fff;\r\n            position: relative;\r\n            display: inline-block;\r\n            border-radius: 3px;\r\n            width: 93%;\r\n            height: 30px;\r\n\r\n            .search-icon {\r\n                position: absolute;\r\n                left: 7px;\r\n                top: 0;\r\n                line-height: 30px;\r\n                font-size: 16px;\r\n                color: #797d82;\r\n            }\r\n            .search-input {\r\n                position: absolute;\r\n                left: 33.5px;\r\n                top: 0;\r\n                height: 30px;\r\n                width: calc(100% - 65px);\r\n                border: 0;\r\n            }\r\n        }\r\n    }\r\n    .list {\r\n        .recommend-city {\r\n            background-color: #fff;\r\n            padding-left: 15px;\r\n            padding-top: 15px;\r\n\r\n            .city-index-title {\r\n                font-size: 13px;\r\n                color: #797d82;\r\n                margin-bottom: 10px;\r\n            }\r\n            .city-index-detail {\r\n                display: -webkit-box;\r\n                display: -ms-flexbox;\r\n                display: flex;\r\n                justify-content: flex-start;\r\n                align-content: center;\r\n                flex-wrap: wrap;\r\n\r\n                .city-item-detail {\r\n                    width: calc((100vw - 33px) / 3);\r\n                    text-align: center;\r\n                    padding-bottom: 15px;\r\n                    box-sizing: border-box;\r\n                    float: left;\r\n\r\n                    .city-item-text {\r\n                        height: 30px;\r\n                        background-color: #f4f4f4;\r\n                        line-height: 30px;\r\n                        border-radius: 3px;\r\n                        box-sizing: border-box;\r\n                        margin: 0 7.5px;\r\n                        font-size: 14px;\r\n                        color: #191a1b;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./City.vue?vue&type=template&id=3d5b7f38&scoped=true&\"\nimport script from \"./City.vue?vue&type=script&lang=js&\"\nexport * from \"./City.vue?vue&type=script&lang=js&\"\nimport style0 from \"./City.vue?vue&type=style&index=0&id=3d5b7f38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d5b7f38\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&id=3d5b7f38&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&id=3d5b7f38&lang=scss&scoped=true&\""],"sourceRoot":""}